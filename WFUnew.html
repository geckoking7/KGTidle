<html>
	<head>
			<title>WFU</title>
			<link rel="icon" type="image/x-icon" href="logo.png">
	</head>
	<style>
	*{
		margin: 0;
	}
	.hide{
		display: none;
	}
	.screen{
		position: absolute;
		top: 82px;
		left: 82px;
		width: 936px;
		height: 406px;
		z-index: 1;
	}
	button{
		z-index: 6;
		padding: 0;
	}
	#play{
		background: url(WFUpb.gif); 
	}
	#play:hover{
		background: url(WFUpbh.gif);
	}
	h1{
		position: absolute;
		z-index: 2;
		color: white;
		font-family: MS Sans Serif;
		font-size: 64;
		left: 480px;
		top: 207px
	}
	.player{
		z-index: 4;
		color: transparent;
		position: absolute;
	}
	.shadow{
		z-index: 3;
		filter: brightness(0);
		opacity: 50%;
		position: absolute;
	}
	.htp{
		background: url('WFUhtpb.gif');
	}
	.htp:hover{
		background: url('WFUhtpbh.gif');
	}
	.vent{
		position: absolute;
		width: 60px;
		height: 60px;
		border: none;
		z-index: 4;
		top: 320px;
	}
	.empty{
		background-image: url('ventEmpty.png');
	}
	.ram{
		background-image: url('ram.png');
	}
	.fightPicker69{
		background-image: url('fightPicker69.png');
	}
	.healthstone2{
		background-image: url('healthstone2.png');
	}
	.damagestone2{
		background-image: url('damagestone2.png')
	}
	.defencestone2{
		background-image: url('defencestone2.png')
	}
	.regenerationstone2{
		background-image: url('regenerationstone2.png')
	}
	</style>
	<body style='background-color: rgb(200,200,200);' id='body'>
		<img src="monitor.png" alt="computer" style='position: absolute; height: 600px; width: 1000px; left: 50px; top: 50px; z-index: 5;'>
		<img src="WFUtitle.gif" alt="computer" class="screen" id='stSc'>
		<img src="outsidemap.png" alt="computer" class="screen hide" id='outm'>
		<img src="gamestart.png" alt="computer" class="screen hide" id='gstSc'>
		<img src="gamewon.png" alt="computer" class="screen hide" id='gwSc'>
		<img src="gameend.png" alt="computer" class="screen hide" id='geSc'>
		<img src="gamelost.png" alt="computer" class="screen hide" id='glSc'>
		<h5 alt="computer" class="screen hide" id='blSc' style='background: black; opacity: 1; z-index: 39439; margin: 0;'></h5>
		<button id='play' style='width: 200px; height: 100px; background-color: transparent; border: none; left: 700px; top: 340px; position: absolute; transform: rotate(345deg);' onclick='startGame()'></button>
		<a href="HTP.html" id='htp' class='htp hide' style='width: 100px; height: 80px; border: none; left: 880px; top: 100px; position: absolute; z-index: 6;' target=”_blank”></a>
		<h1 class='hide' id='dayE'>Day 1</h1>
		<div id='deA' class='hide' style='background: url("WFUdeagleF.png"); left: 960px; top: 285px; position: absolute; z-index: 2; background-repeat: no-repeat; background-size: cover;'>
			<h5 class='player' style='width: 40px; height: 40px; background: inherit;'></h5>
			<h5 class='shadow' style='width: 40px; height: 40px; top: 1px; left: 1px; background: inherit;'></h5>
		</div>
		<div id='player' class='hide' style='left: 100px; top: 240px; position: absolute; background: url("WFUplayer.gif");'>
			<h5 class='player' id='playerR' style='width: 30px; height: 50px; background: inherit;'></h5>
			<h5 class='shadow' style='width: 30px; height: 50px; left: 2px; top: 2px; background: inherit;'></h5>
		</div>
		<h5 class='hide player' id='wilko' style='background: url("wilko.png"); width: 30px; height: 50px; left: 980px; top: 270px; position: absolute; opacity: 20%;'></h5>
		<h5 class='hide player' id='carup' style='background: url("carup.gif"); width: 80px; height: 100px; left: 560px; top: 500px; position: absolute; margin: 0;'></h5>
		<h5 class='hide shadow' id='carupS' style='background: url("carup.gif"); width: 80px; height: 100px; left: 564px; top: 502px; position: absolute; margin: 0; filter: brightness(0); opacity: 50%;'></h5>
		<h5 class='hide player' id='cardown' style='background: url("cardown.gif"); width: 80px; height: 100px; left: 750px; top: 50px; position: absolute; margin: 0;'></h5>
		<h5 class='hide shadow' id='cardownS' style='background: url("cardown.gif"); width: 80px; height: 100px; left: 754px; top: 50px; position: absolute; margin: 0; filter: brightness(0); opacity: 50%;'></h5>
		<h4 id='objective' class='hide' style='background-color: white; font-size: 20px; position: absolute; left: 95; top: 70; width: 910px; text-align: center; z-index: 7; height: 30px; padding: 5px; opacity: 70%; font-family: arial;'>hi</h4>
		<h4 id='modifier' class='hide' style='background-color: white; font-size: 20px; position: absolute; left: 95; top: 110; width: 910px; text-align: center; z-index: 7; height: 30px; padding: 5px; opacity: 70%; font-family: arial;'>die</h4>
		<h5 id='miniplayer' style='background: url("miniOff.gif"); width: 216px; height: 91px; left: 750px; top: 529px; position: absolute; margin: 0; z-index: 7;'></h5>
		<img src='outsidemap.png' id='miniplayerM' class='hide' style='width: 162px; height: 68px; left: 750px; top: 529px; position: absolute; margin: 0; z-index: 6; object-fit: contain;'>
		<img class='hide' id='itemSlot' style='width: 30px; height: 30px; left: 864px; top: 546px; position: absolute; z-index: 8; object-fit: contain;'>
		<div id='dbdiv'>
			<h5 class='hide' id='deagleB' style='background: white; width: 10px; height: 4px; left: 0px; top: 0px; position: absolute; z-index: 4; margin: 0;'></h5>
		</div>
		<h5 class='hide' id='Mhp' style='background: url("healthd.png"); width: 120px; height: 20px; left: 769px; top: 586px; position: absolute; z-index: 7; margin: 0; border-radius: 8px 15px 15px 8px; color: transparent; filter: grayscale(1) brightness(50%);'>3</h5>
		<h5 class='hide' id='hp' style='background: url("healthd.png"); width: 120px; height: 20px; left: 769px; top: 586px; position: absolute; z-index: 8; margin: 0; border-radius: 8px 15px 15px 8px; filter: hue-rotate(90deg); color: transparent'>3</h5>
		<div id='eagle' class='hide' style='background: url("WFUdeagle.gif"); width: 80px; height: 80px; left: 600px; top: 240px; position: absolute; z-index: 6;'>
			<h5 class='hide player'></h5>
			<h5 class='hide shadow' style='left: 5px; top: 5px;'></h5>
		</div>
		<h1 style='z-index: 23;'><a class='hide' href='' onclick='window.close()' style='position: absolute; top: 205; left: 390; margin: 0; text-decoration: none; font-size: 16; width: 200; margin: 0; z-index: 23;' id='kgtlink'>Return to KGT idle</a></h1>
		<h1 class='hide' style='position: absolute; top: 285; left: 480; margin: 0; text-decoration: none; font-size: 20; width: 200; margin: 0; z-index: 5;' id='xpR'>Xp: 0</h1>
		<h1 class='hide' style='position: absolute; top: 305; left: 480; margin: 0; text-decoration: none; font-size: 20; width: 200; margin: 0; z-index: 5;' id='goldR'>Gold earned: 0</h1>
		<h1 class='hide' style='position: absolute; top: 400; left: 480; margin: 0; text-decoration: none; font-size: 20; width: 200; margin: 0; z-index: 5;' id='anomR'>Enhanced items: 0</h1>
		<div id='guard1' class='hide'>
			<h5 class='shadow' id='guard1S' style='background: url("WFUguard.gif"); width: 30px; height: 50px; left: 485px; top: 412px; position: absolute; z-index: 2;'></h5>
			<h5 class='player' id='guard1p' style='background: url("WFUguard.gif"); width: 30px; height: 50px; left: 0px; top: 0px; position: absolute; z-index: 3;'></h5>
		</div>
		<div id='guard2' class='hide'>
			<h5 class='shadow' id='guard2S' style='background: url("WFUguard.gif"); width: 30px; height: 50px; left: 870px; top: 412px; position: absolute; z-index: 2;'></h5>
			<h5 class='player' id='guard2p' style='background: url("WFUguard.gif"); width: 30px; height: 50px; left: 0px; top: 0px; position: absolute; z-index: 3;'></h5>
		</div>
		<div class='hide' id='Fbar'>
			<h5 id='fbar' style='width: 0; position: absolute; height: 4; left: 902; top: 571; background: rgb(0,255,255); z-index: 8;'></h5>
			<h5 id='fbarb' style='width: 50; position: absolute; height: 4; left: 902; top: 571; background: rgb(127,127,127); z-index: 7;'></h5>
		</div>
		<h5 class='hide player' id='pCnode' style='background: url("WFUplayerC.gif"); width: 30px; height: 50px; left: 100px; top: 240px; position: absolute;'></h5>
		<div class='hide' id='Enode' style='background: url("emu.gif"); width: 80px; height: 80px; top: 240px; left: 60px; position: absolute; display: show;'></h5>
			<h5 class='shadow' style='width: inherit; height: inherit; left: 2px; top: 2px; background: inherit;'></h5>
			<h5 class='player' style='width: inherit; height: inherit; background: inherit;'></h5>
		</div>
		<h5 class='hide player' id='eThing' style='background: url("eThing.gif"); width: 100px; height: 50px; position: absolute;'></h5>
		<h5 class='vent empty hide' id='vent1'></h5> <!--left 560px; is center-->
		<h5 class='vent empty hide' id='vent2'></h5>
		<h5 class='vent empty hide' id='vent3'></h5>
		<h5 class='vent empty hide' id='vent4'></h5>
		<h5 class='vent empty hide' id='vent5'></h5>
		<h5 class='vent empty hide' id='vent6'></h5>
		<h5 class='vent empty hide' id='vent7'></h5>
		<h5 class='vent empty hide' id='vent8'></h5>
	</body>
	<script>
	var tick = 0;
	var DEhp = 0;
	var ob1 = 0;
	var ob2 = 0;
	var mo1 = 0;
	var mo2 = 0;
	var day = 1;
	var gaming = 1;
	var impH = 1;
	var emuDelay = 0;
	var keysPressed = [];
	var pl = document.getElementById('player');
	var wilk = document.getElementById('wilko');
	var ENode = document.getElementById('Enode').cloneNode(true);
	function newSave(thing, value){ //thing must be string
		if (localStorage.getItem(thing)){
			return true
		} else {
			localStorage.setItem(thing, value)
			return localStorage.getItem(thing)
		}
	}
	function hide(id){
		document.getElementById(id).classList.add('hide')
	}
	function show(id){
		document.getElementById(id).classList.remove('hide')
	}
	function startGame(){
		hide('stSc')
		hide('play')
		newSave('WFUslots', 1)
		document.getElementById('htp').classList.add('hide')
		if (localStorage.WFUlvl){
			
		} else {
			localStorage.WFUlvl = 1
			if (localStorage.DLVL){
				
			} else {
				localStorage.DLVL = 0
			}
			if (localStorage.CDLVL){
				
			} else {
				localStorage.CDLVL = 0
			}
			if (localStorage.HLVL){
				
			} else {
				localStorage.HLVL = 0
			}
		}
		if (localStorage.WFUcool){
			
		} else {
			localStorage.WFUcool = 0
		}
		if (parseInt(localStorage.WFUcool) <= 300 || localStorage.WFUlvl === '69'){ //0
			show('gstSc')
			show('dayE')
			document.getElementById("miniplayer").style.background = 'url(miniStart.gif)'
			document.getElementById('htp').classList.add('hide')
			setTimeout(game,2000)
			localStorage.WFUcool = Math.floor(300 * (100 - parseInt(localStorage.CDLVL)) / 100)
			hp.textContent = parseInt(localStorage.HLVL) + 3
			Mhp.textContent = parseInt(localStorage.HLVL) + 3
		} else if (parseInt(localStorage.WFUcool) > 0){
			document.getElementById('wilko').classList.remove('hide')
			document.getElementById('wilko').style.width = 3000
			document.getElementById('wilko').style.top = 1000
			document.getElementById('wilko').style.height = 10000
			document.getElementById('wilko').style.zIndex = 10000
			document.getElementById('wilko').style.opacity = '80%'
			localStorage.ach8 = 1
		}
	}
	function game(){
		pl.style.top = 240
		pl.style.left = 100
		wilk.style.top = 270
		wilk.style.left = 980
		guard1p.textContent = ''
		guard2p.textContent = ''
		emuDelay = 100;
		hide('gstSc')
		hide('dayE')
		map = Math.floor(Math.random() * 100000) + 1
		show('player')
		show('wilko')
		show('miniplayerM')
		show('Mhp')
		show('hp')
		hide('dbdiv')
		document.getElementById('gwSc').classList.add('hide')
		document.getElementById('Fbar').classList.remove('hide')
		document.getElementById("miniplayer").style.background = 'url(miniOn.png)'
		document.getElementById("eagle").style.background = 'url("WFUdeagle.gif")'
		if (true){
			show('outm')
			show('objective')
			show('modifier')
			document.getElementById('miniplayerM').setAttribute('src','outsidemap.png')
			obj = Objective()
			if (obj === 1){
				objective.textContent = 'Objective: Catch the desert eagle'
				ob1 = 1
				document.getElementById("eagle").style.left = 605
				document.getElementById("eagle").style.top = 245
				show('deA')
				show('eagle')
				DEhp = 2 + day
			} else if (obj === 2){
				objective.textContent = 'Objective: Find and kill the imposter'
				ob2 = 1
				impH = 4 + day / 2
			}
			mod = Modifier()
			if (mod === 1){
				modifier.textContent = 'Modifier: none'
				mo1 = 1
			} else if(mod === 2){
				modifier.textContent = 'Modifier: The war of emus'
				mo2 = 1
			}
		} else if (true){ //when other zone things exist (never)
		
		} else {
		
		}
		gaming = 0
		Gaming()
	}
	function Objective(){
		for (let i = 0; i < 2; i++) {
			obj = Math.floor(Math.random() * parseInt(localStorage.WFUlvl)) + 1
			if (obj === 1 && ob1 === 0){
				i = 2
				return 1
			} else if (obj === 2 && ob2 === 0){
				i = 2
				return 2
			} else {
				if (parseInt(localStorage.WFUlvl) === 69){
					return Math.floor(Math.random() * 2) + 1
				}
				i = 0
			}
		}
	}
	function Modifier(){
		for (let i = 0; i < 2; i++) {
			mod = Math.floor(Math.random() * parseInt(localStorage.WFUlvl)) + 1
			if (mod === 1 && mo1 === 0){
				i = 2
				return 1
			} else if (mod === 2 && mo2 === 0){
				i = 2
				return 2
			} else {
				if (parseInt(localStorage.WFUlvl) === 69){
					return Math.floor(Math.random() * 2) + 1
				}
				i = 0
			}
		}
	}
	var EmuSpawnCool = 0;
	function Gaming(){ //tick is 1/50 seconds
			tick = tick + 1
			if ((keysPressed['a'] === true && (keysPressed['d'] === true) === false || keysPressed['A'] === true && (keysPressed['D'] === true) === false) && parseInt(pl.style.left) >= 85){
				pl.style.left = parseInt(pl.style.left) - 5
				if (pl.style.background != 'url("WFUplayerl.gif")'){
					pl.style.background = 'url("WFUplayerl.gif")'
				}
			}
			if ((keysPressed['d'] === true && (keysPressed['a'] === true) === false || keysPressed['D'] === true && (keysPressed['A'] === true) === false) && parseInt(pl.style.left) <= 985){
				pl.style.left = parseInt(pl.style.left) + 5
				if (pl.style.background != 'url("WFUplayerr.gif")'){
					pl.style.background = 'url("WFUplayerr.gif")'
				}
			}
			if ((keysPressed['w'] === true && (keysPressed['s'] === true) === false || keysPressed['W'] === true && (keysPressed['S'] === true) === false) && parseInt(pl.style.top) >= 80){
				pl.style.top = parseInt(pl.style.top) - 5
				if (pl.style.background != 'url("WFUplayeru.gif")' && (keysPressed['a'] === true) === false && (keysPressed['d'] === true) === false && (keysPressed['A'] === true) === false && (keysPressed['D'] === true) === false){
					pl.style.background = 'url("WFUplayeru.gif")'
				}
			}
			if ((keysPressed['s'] === true && (keysPressed['w'] === true) === false || keysPressed['S'] === true && (keysPressed['W'] === true) === false) && parseInt(pl.style.top) <= 430){
				pl.style.top = parseInt(pl.style.top) + 5
				if (pl.style.background != 'url("WFUplayerd.gif")' && (keysPressed['a'] === true) === false && (keysPressed['d'] === true) === false && (keysPressed['A'] === true) === false && (keysPressed['D'] === true) === false){
					pl.style.background = 'url("WFUplayerd.gif")'
				}
			}
			if ((keysPressed['a'] === true) === false && (keysPressed['d'] === true) === false && (keysPressed['w'] === true) === false && (keysPressed['s'] === true) === false && (keysPressed['A'] === true) === false && (keysPressed['D'] === true) === false && (keysPressed['W'] === true) === false && (keysPressed['S'] === true) === false){
				if (pl.style.background != 'url("WFUplayer.gif")'){
					pl.style.background = 'url("WFUplayer.gif")'
				}
			}
			if ((keysPressed['e'] === true) || (keysPressed['E'] === true)){
				if (deA.classList.contains('hide') === false && parseInt(pl.style.left) >= 920 && parseInt(pl.style.left) <= 1010 && parseInt(pl.style.top) >= 235 && parseInt(pl.style.top) <= 325){
					hide('deA')
					document.getElementById('itemSlot').setAttribute('src','WFUdeagleF.png')
					show('itemSlot')
					document.getElementById("fbar").style.width = 50
					hide('eThing')
				}
			}
			if (mo2 === 1){
				if (parseFloat(pl.style.top) > 1 && mod === 2){
				EmuSpawnCool = EmuSpawnCool + 1
					if (EmuSpawnCool - emuDelay >= (0.95)**(day - 1) * 100){
						EmuSpawnCool = 0
						let ENodE = ENode.cloneNode(true)
						let e = document.getElementById('body').appendChild(ENodE)
						e.classList.replace('hide','eAlive')
						e.setAttribute('id', 'abcdefg')
						e.style.top = Math.floor(Math.random() * 330) + 60
						emuDelay = 0
					}
				}
				for (const emu of document.getElementsByClassName('eAlive')){
					if (parseInt(emu.style.left) >= 970){
						document.getElementById('body').removeChild(emu)
					} else {
						emu.style.left = parseFloat(emu.style.left) + 5 + day / 2
					}
				}
			}
			for (const item of document.getElementsByClassName('edam24')){
				item.style.filter = ''
				item.classList.remove('edam24')
			}
			for (i = 23; i >= 0; i--){
				for (const item of document.getElementsByClassName('edam' + i)){
					item.style.filter = 'brightness(' + (2 - ((i + 1) / 25)) + ')'
					item.classList.replace('edam' + i, 'edam' + (i + 1))
				}
			}
		if (gaming === 0){
			setTimeout(Gaming, 20)
		}
	}
	function pdam(dam){
		hp.textContent = parseInt(hp.textContent) - dam
		if (parseInt(hp.textContent) <= 0){
			
		} else {
			document.getElementById("hp").style.width = (parseInt(hp.textContent) / parseInt(Mhp.textContent)) * 120
			document.getElementById("hp").style.filter = 'hue-rotate('+ (parseInt(hp.textContent) / parseInt(Mhp.textContent)) * 90 +'deg)'
			edam('playerR')
		}
	}
	function edam(id){
		document.getElementById(id).classList.add('edam0')
		document.getElementById(id).style.filter = 'brightness(2)'
	}
	document.addEventListener('keydown', (event) => {
		keysPressed[event.key] = true;
	});
	document.addEventListener('keyup', (event) => {
	   delete keysPressed[event.key];
	});
	</script>
</html>